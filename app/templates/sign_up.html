<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <link rel="stylesheet" href="/static/css/sign_up.css">
    <script src="/static/js/sign_up.js" defer></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <nav class="navigation-bar">
        <div class="nav-item left">
            <img src="{{ url_for('static', filename='images/left-arrow.png') }}" class="nav-picture" onclick="history.back();">
        </div>
        <div class="nav-item center">
            회원가입
        </div>
    </nav>

    <div class="form-container">
        <div class="step-indicator-div">
            <div class="step-indicator active" id="step-indicator1" onclick="showStep(1)">1</div>
            <div class="line"></div>
            <div class="step-indicator" id="step-indicator2" onclick="showStep(2)">2</div>
            <div class="line"></div>
            <div class="step-indicator" id="step-indicator3" onclick="showStep(3)">3</div>
        </div>
        <form class="signup-form" method="post" enctype="multipart/form-data">
            <div class="step" id="step1">
                <div class="form-group">
                    <label for="user-email">이메일</label>
                    <div class="email-form">
                        <input type="email" id="user-email" name="user-email" placeholder="Email" required>
                        <button type="button" id="confirm-email">중복 확인</button>
                    </div>
                    <p id="email-result"></p>
                </div>
                <div class="form-group">
                    <label for="user-pwd">비밀번호</label>
                    <input type="password" name="user-pwd" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <label for="user-repwd">비밀번호 확인</label>
                    <input type="password" name="user-repwd" placeholder="Comfirm password" required>
                    <p id="pwd-result"></p>
                </div>
                <div class="form-group">
                    <label for="user-phone">휴대폰 번호</label>
                    <input type="tel" name="user-phone" placeholder="Phone number" required>
                    <p id="phone-result"></p>
                </div>
                <div class="button-div">
                    <button type="button" id="comfirm-allfilled" class="step-button" onclick="validateAndShowstep(2)">다음</button>
                </div>
                <p id="warning-message" style="color: red; display: none">모든 필드를 입력해주세요.</p>
            </div>
            <div class="step" id="step2">
                <div class="form-group">
                    <label for="user-birth">생년월일</label>
                    <input type="date" max="9999-12-31" name="user-birth" class="user-birth" placeholder="Birthday">
                </div>
                <div class="form-group">
                    <label for="user-interest">관심</label>
                    <input type="text" name="user-interest" placeholder="Interest">
                </div>
                <div class="form-group">
                    <label for="user-work">직장, 학교</label>
                    <input type="text" name="user-work" placeholder="Work">
                </div>
                <div class="form-group">
                    <label for="user-location">위치</label>
                    <input type="text" name="user-location" placeholder="Location">
                </div>
                <div class="form-group">
                    <label for="user-website">웹사이트</label>
                    <input type="text" name="user-website" placeholder="Website">
                </div>
                <div class="button-div">
                    <button type="button" class="step-button" onclick="showStep(1)">이전</button>
                    <button type="button" class="step-button" onclick="showStep(3)">다음</button>
                </div>
            </div>
            <div class="step" id="step3">
                <div class="form-group">
                    <div class="image-div">
                        <img src="{{ url_for('static', filename='images/woman.png') }}" class="profile-image" id="profile-image">
                    </div>
                    <input type="file" id="image-input" name="user-image" style="display: none;" accept="image/*">
                </div>
                <div class="form-group">
                    <label for="user-name">이름</label>
                    <input type="text" name="user-name" placeholder="Name" required>
                </div>
                <div class="form-group">
                    <label for="user-description">설명</label>
                    <input type="text" name="user-description" placeholder="Description">
                </div>
                <div class="button-div">
                    <button type="button" class="step-button" onclick="showStep(2)">이전</button>
                    <button type="submit" class="submit-button">가입하기</button>    
                </div>
            </div>
        </form>
    </div>

    <div class="welcome-message" style="display: none;">
        <img src="{{ url_for('static', filename='images/logo_v2.png') }}" class="logo-picture">
        <h1>안녕하세요, <span id="welcome-name"></span>님!</h1>
        <p>회원가입이 성공적으로 완료되었습니다.</p>
        <button id="goto-login">로그인 페이지로 이동</button>
    </div>
</body>
</html>